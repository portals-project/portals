import matplotlib.pyplot as plt
import numpy as np

data = [1216064611,1360631721,1542882014,216891199,330656893,152909754,166185927,148142408,188455960,231617213,244915541,146089189,118569672,201521192,226082617,241084723,294807163,98668197,273723539,164138728,78305560,113655050,116056698,195245923,88215179,91030155,123098688,58221882,133730181,136686610,159399324,72024882,103043673,71357608,81796441,102512146,114291532,49164688,53675112,72763521,85878071,64076244,87460751,141111206,113376199,56181864,79112011,103011714,106447800,79123253,93956115,62137593,75175622,89880871,107726160,106015993,49334557,94798652,60140746,122862672,124698387,107013820,143513103,58079887,93750492,94656994,108143049,125496618,68568583,70375288,74055589,65461653,87986690,98078161,98946202,105844973,130705621,49217376,54277401,67515020,86811949,124395109,71856206,86500931,109767628,60249124,68007094,126506272,56582509,48645734,59021700,48065598,108803204,58078822,105284128,116584817,127825905,132806219,98060275,126818916,47135857,75331725,93436393,73917102,114700415,72356893,80926390,97952395,99628787,123286562,58898776,116864934,96036977,49414215,54631694,121141673,71689552,94902049,56306997,119312661,132964488,77873493,38303433,39322428,72444866,103029942,106462706,113653524,44320666,80158102,90716915,104196882,107543434,118240009,107389830,54150621,56369289,43193108,77943426,98208566,113218367,124922023,82426944,101375934,62303735,70822726,74170439,86981951,88695998,133378176,161514901,81581371,111664825,169933681,41428355,48984371,77621653,114832274,69453581,70327402,82028882,85628601,90680535,71059461,52543808,54298982,65046221,36894002,109205333,114981387,57417893,106513738,49546149,55021144,94032068,127710749,78727621,50127400,77992289,81477705,117689513,108952670,74588672,93226708,57914141,99870856,61244075,76723799,121092307,38691595,44633221,71066395,87757283,45638819,85132147,80280280,88241799,96549827,110269781,127005593,33578845,76241891,72442496,38951453,47679029,67468835,85802083,106200437,61416338,75947624,81723445,101004715,88855307,116575310,125100978,35225814,52340299,72888218,79281566,104093964,43094997,75299298,84896396,100219456,99018179,55529381,70879371,89437698,93976754,67344774,73715411,115458743,82185225,62292344,89636434,85350877,128367491,50710894,74492952,82541771,84118050,87536823,96612154,89731976,39124338,38720478,112743337,115244639,133350202,65670222,89943929,51956405,100321152,78351323,56120653,89938175,123381985,45519346,40684590,78754644,85997003,90714379,115930177,37699967,80204538,68905560,93257465,44073871,78700362,66588423,44236938,119627415,48953482,96015325,32902049,90306328,41355254,101112132,48131650,65656820,75896633,97693478,109883057,104563114,59684305,38740055,48312246,51727578,76970941,82028794,106940203,113496025,40278148,135855216,42041951,101227063,98777075,114280653,95292251,64485279,75830255,35666948,46310831,52420442,83898058,111086867,88428270,102011366,38464364,45221940,73323476,98653926,38413233,77531160,115372481,41827219,58242147,75035444,106647293,72389944,103798719,137027405,142783997,55683472,59630359,34254727,41932078,114181660,65170070,75897884,47168236,106121247,115476751,58306397,79898854,48544727,67124987,85456573,71699314,81069882,45561427,74550121,86920250,99720897,114342569,46107491,56224881,58848078,75421359,115179209,109993042,76198408,82531079,91297089,36160036,72562265,63169272,73198818,34094827,78810789,87070417,67634105,100873312,113600313,77721034,79441629,80900477,93757643,94617496,129517147,84828274,85619725,88014171,107728459,50859570,45752556,61074709,81640373,35817500,38299795,44489316,36909515,38916234,44206392,82999267,100641233,129189531,52121406,101538668,38060082,66066849,76169610,104437188,77092913,80979837,126217149,135669155,77539566,95037432,101421334,37606430,55076983,67781725,96927381,111815640,45248028,57952125,109485683,43713327,62960547,120695159,126698454,37011041,53874855,94568848,83028967,101884530,37495235,124812577,125664330,129259752,145168853,60896247,77558192,44940924,115791075,55070332,69425433,89029963,94493637,105634797,36924458,37767551,99995838,112070911,71148818,74500890,80407042,85991250,88722107,142986890,40754125,73962462,82873302,90560907,77837345,33321255,95554912,42472160,63878861,37683257,59370450,67362799,83211699,121372753,68773589,75439906,82598563,89235158,106556470,115407351,139187717,140743527,104622115,46526042,86055129,90802033,34091704,47016741,55727021,77805325,95884572,100796992,95875695,109539260,34629975,53416289,106273805,110542949,36031564,90281718,77703677,104022201,59339795,77909123,50967974,62146161,111675276,37299234,69519406,87266065,92407766,145514568,111617748,52181894,79237991,63255521,83485975,37455555,66813050,35724140,40777449,51653841,70083783,72090040,77698506,146134373,86319887,96833485,102877773,70899645,82824798,93518461,109891315,79468990,82117017,50127232,88779634,89683096,102628507,113219732,126158246,146533780,66687999,116274443,59124979,73907892,88146893,40903006,76793509,44905185,74710946,83320878,86567060,65622182,98787253,44336669,51908821,91945445,90312592,91144038,106159395,147112485,48144121,70044447,86529012,94586305,79280741,39785838,38207118,138922528,61057013,40889009,68994655,78082239,69194713,82982151,112717290,87950146,106121121,56638886,106605469,65824577,86617375,37558301,87579544,115495743,46439928,33712743,39685093,92058712,89739018,104779355,47527027,107051550,59074679,62380230,79258538,81312470,85524097,45651212,111123678,49075381,60387161,94240449,68935332,81065995,63316998,50360640,81189395,107152398,34500406,52002412,56297040,55766221,66919387,32865546,78946637,43130157,138318496,142574865,39924916,51367839,62905511,88723466,80381203,52427708,46249355,60642663,82550647,88581717,32498998,52282675,67738230,93154741,91534913,136769048,46934497,86095533,87038060,70644565,80069208,32682724,53806509,76938993,116085953,116965990,50581396,58107508,133253694,135795978,44737205,67787158,63967796,82899225,113191271,117593496,60534897,62206998,42821169,108971922,71189703,115808907,63782937,72227844,86949634,90324044,100910399,114187060,69775219,71892309,91652702,39906968,48341332,83354261,50984220,58598202,74185060,83574471,117128806,109701805,80378369,81993689,89343384,103563202,88596538,73610966,78903002,93464581,112012043,114595999,115456445,74596862,34167114,91763298,70943297,86849215,110067460,32177547,33226339,65759574,130137201,136070588,49110503,44554277,110311248,117914074,36746249,60166017,37581154,81968597,87893976,105860162,116975202,119558014,140937608,52254365,34295150,108505657,73647858,94903785,101969915,92433609,112115908,40834179,50800899,110927426,35634851,136767978,68036101,96924860,98528529,55490618,93839619,37531563,59454542,97096930,35007499,37324592,118264119,94119467,41526588,46751382,75668525,103351972,116324182,59073431,103574595,75778032,98922140,88229612,92448100,94611676,59750949,64765551,93739531,33980399,45992400,83306054,121291689,141108809,34735194,40845296,65922153,105498236,44490886,40704774,47745409,105961744,117247330,96648624,105328274,56272643,84172728,92839213,78209889,85611560,132121561,141648826,149018671,59132297,70535625,111507756,64570198,86781633,99615099,118280437,34893977,97505654,80313692,81156017,98380946,122875200,154663898,79206510,80914230,49722805,101089829,81008979,82749171,85192476,105865952,114971209,117480294,39933289,41732562,59540279,113007804,34144083,85999882,33523524,68746607,96675825,48085049,115297222,64268743,112902789,49665461,79715969,55982297,68293108,76788349,87309318,119281095,35439394,57341030,108886555,73618741,79943307,116223259,94340907,114284722,42278457,73838418,89673432,122271550,86632264,104151225,115619843,117249028,44339957,78681897,40475221,68767554,75104477,68033980,89331432,134381038,87116148,52959375,63851261,94487779,116548336,33656296,39739286,43185558,50758120,40731825,81033954,98891205,119249240,68225854,109027469,56865154,70928184,97612141,53851652,80070975,89902469,34888967,65546492,85161422,192656428,198203222,41651359,66865268,68530353,97658656,105979303,108506166,34554906,89612164,84223935,80359515,43115684,44821757,80474717,100674350,57573107,62156381,60013036,67759602,115233742,38488326,89628144,114515138,36871777,103346346,54231683,108045794,55935206,74407612,78858442,107058931,107941175,70438317,97800058,100337105,122089986,37206774,47148847,92003844,100833917,105677728,108075053,108976546,54749902,74879290,83287159,95803609,102212886,97975971,56838166,69629071,76080116,82327699,46425312,78720147,116916378,42839827,69739017,42559267,79346498,107933438,46094002,112140236,46288283,74078386,38138974,82546184,87518986,53500100,93884899,99813790,107672244,75842984,122935377,54011776,104066078,64597477,93653094,102490742,110066852,122204135,64018526,180300908,299215330,89996394,181342142,185823634,41636451,72968408,85253302,68817396,93582651,114245386,81909832,84497765,55017065,55980091,65600168,84548723,138243064]
data = list(map(lambda x: x / 1000000000, data))

# data = [1,3,5,6,12]

# # Plotting the distribution
# plt.hist(data, bins=50, edgecolor='black')
# plt.xlabel('Latency (ms)')
# plt.ylabel('Frequency')
# # plt.title('Long-Tail Distribution')


# Define the number of bins and bin ranges
num_bins = 50
bins = np.logspace(np.log10(min(data)), np.log10(max(data)), num=num_bins)

# Calculate the count of items in each bin
bin_counts, _ = np.histogram(data, bins=bins)

# Plotting the bar chart for bin representation
plt.bar(bins[:-1], bin_counts, width=np.diff(bins), align='edge', edgecolor='black', alpha=0.75)

# Plotting the line chart for count of items in bins
plt.plot(bins[:-1], bin_counts, linestyle='-', color='red', marker='o')

plt.xscale('log')  # Use a logarithmic scale on the x-axis for better visualization
plt.xlabel('Latency (ms)')
plt.ylabel('Frequency')

# Save the plot as an image
plt.savefig('long_tail_distribution.png', dpi=300)